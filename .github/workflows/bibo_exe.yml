name: bibo_exe

on:
  schedule:
    - cron: '45 19 * * *'  # 1:45 PM MDT / 19:45 UTC
  workflow_dispatch:

jobs:
  run-bot:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: Install dependencies
        run: |
          pip install -r requirements.txt

      - name: Run bot
        env:
          EMAIL: ${{ secrets.EMAIL }}
          PASSWORD: ${{ secrets.PASSWORD }}
          PAPERACC: ${{ secrets.PAPERACC }}
          LIVEACC: ${{ secrets.LIVEACC }}
          PAPERACCUUID: ${{ secrets.PAPERACCUUID }}
          ACCUUID: ${{ secrets.ACCUUID }}
          API_KEY: ${{ secrets.API_KEY }}
          SECRET_KEY: ${{ secrets.SECRET_KEY }}
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK }}
        run: python algorithm/BIBO/main.py
